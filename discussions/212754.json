[
  {
    "Id": "443283",
    "ThreadId": "212754",
    "Html": "<p>Hi, If i am using block-container, i am getting System.InvalidCastException invalid exception.<br>I have copied the code hello.fo<br><br>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;<br>&lt;fo:root xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;<br><br>&lt;fo:layout-master-set&gt;<br>&lt;fo:simple-page-master master-name=&quot;simple&quot;<br>page-height=&quot;12in&quot;<br>page-width=&quot;8.5in&quot;&gt;<br>&lt;fo:region-body margin-top=&quot;3cm&quot;/&gt;<br>&lt;fo:region-before extent=&quot;3cm&quot;/&gt;<br>&lt;fo:region-after extent=&quot;1.5cm&quot;/&gt;<br>&lt;/fo:simple-page-master&gt;<br>&lt;/fo:layout-master-set&gt;<br><br>&lt;fo:page-sequence master-reference=&quot;simple&quot;&gt;<br>&lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;&nbsp;<br>&lt;fo:block&gt;<br>&lt;fo:block-container absolute-position=&quot;absolute&quot; top=&quot;35mm&quot; left=&quot;00mm&quot; width=&quot;78mm&quot; height=&quot;60mm&quot; font-size=&quot;12pt&quot; border-style=&quot;solid&quot; border-color=&quot;#DDDDDD&quot;&gt;<br>&lt;fo:block text-align=&quot;justify&quot;&gt;<br>&lt;fo:block&gt;This is a block container.&lt;/fo:block&gt;<br>&lt;/fo:block&gt;<br>&lt;/fo:block-container&gt;<br>&lt;/fo:block&gt;&nbsp;<br>&lt;/fo:flow&gt;<br>&lt;/fo:page-sequence&gt;<br>&lt;/fo:root&gt;<br><br>and the error is<br>System.InvalidCastException: Unable to cast object of type 'Fonet.Layout.BlockArea' to type 'Fonet.Layout.AreaContainer'.<br>at Fonet.Fo.Flow.BlockContainer.Layout(Area area) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\Flow\\BlockContainer.cs:line 61<br>at Fonet.Fo.Flow.Block.Layout(Area area) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\Flow\\Block.cs:line 220<br>at Fonet.Fo.Flow.Flow.Layout(Area area, Region region) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\Flow\\Flow.cs:line 123<br>at Fonet.Fo.Flow.Flow.Layout(Area area) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\Flow\\Flow.cs:line 82<br>at Fonet.Fo.Pagination.PageSequence.Format(AreaTree areaTree) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\Pagination\\PageSequence.cs:line 216<br>at Fonet.StreamRenderer.Render(PageSequence pageSequence) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\StreamRenderer.cs:line 107<br>at Fonet.Fo.FOTreeBuilder.EndElement() in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\FOTreeBuilder.cs:line 175<br>at Fonet.Fo.FOTreeBuilder.Parse(XmlReader reader) in C:\\Projects\\DesignPatterns\\FOSample\\Core\\Fo\\FOTreeBuilder.cs:line 219<br><br>Please help me how to correct it?<br>Thanks<br>Kousikan</p>",
    "PostedDate": "2010-05-15T10:44:47.47-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "451651",
    "ThreadId": "212754",
    "Html": "<p>Hi Kousikan,</p>\r\n<p>I had a similar issue with &lt;xsl:block-container&gt; - the fixes I applied to code were...</p>\r\n<p>in <strong>Core\\Flow\\BlockContainer.cs</strong> - go to the <strong>Layout()</strong> method and make the following changes...</p>\r\n<ol>\r\n<li>Comment out the line:-<br>&nbsp; AreaContainer container = (AreaContainer)area;</li>\r\n<li>Replace this bit of code...<br>&nbsp; this.areaContainer =<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new AreaContainer(propMgr.GetFontState(container.getFontInfo()),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.getXPosition() + left,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.GetYPosition() - top, width, height,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; position);<br>with...<br>&nbsp; this.areaContainer =<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new AreaContainer(propMgr.GetFontState(area.getFontInfo()),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; left,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; top, width, height,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; position);</li>\r\n<li>In order to get absolute height to work, replace this bit of code...<br>&nbsp; if (position == Position.ABSOLUTE)<br>with...<br>&nbsp; if (this.properties.GetProperty(&quot;absolute-position&quot;).GetEnum() == Position.ABSOLUTE)</li>\r\n</ol>\r\n<p>&nbsp;Hope this helps</p>\r\n<p>Marrow</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2010-06-04T03:37:54.59-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]